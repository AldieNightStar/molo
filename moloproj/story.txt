$import api/api.txt

:myalert
    * window.alert("Hello from alert scene. I am used as function");

== Main chapter
:main
    == Let's print some logo to the screen with 100% and 20%
    .image "logo.png", 100, 20
    .print-letter "This is your story"
    .continue "Let's start"

    == This text will wait for continue button
    .print-letter "Hi all and everything which am added to be it here", 3000
    .continue "Let's start with a new story"
    .continue "Write your new world with Molo"
    .clear
    .continue "Cleared screen, is better than polished"

    == This is simple command which allows you to goto by name
    == Alternatively you could write: * button("Next chapter", () => mgoto("chapter2"))
    .button "Next chapter", "chapter2"

    == This is js block code
    == $$variables are mapped to window.mvars['variables']
    == Just a small syntactic sugar
    .js
        $$cnt = 0;
    .endjs

:chapter2
    == This is js button
    * button("JS button", () => $$$myalert());

    == This is advanced button functionality
    .button "Advanced button", "", () => window.alert("Hello from advanced buttons")

    == Let's add some interaction
    == For more javascript api details - refer to README.md
    * await button("Count: " + $$cnt, () => { $$cnt += 1; mgoto(); });
    == Example for using button. Do not forget to use 'await'
    .js
        for (let i = 0; i < 10; i++) {
            await button(`B${i}`, () => window.alert(`Count is: ${i}`));
        }
    .endjs